<section *ngIf="channelDb.channel as channel" class="card">

    <div class="message-head">
        <div class="head-left-wrapper">
            <div (click)="openDialog()" class="head-left" [ngClass]="{'head-left-highlight': dialog}">
                <div class="hashtag-icon"></div>
                <h2>{{channel.name}}</h2>
                <div class="arrow-drop-down-icon"></div>
            </div>

            <app-channel-data-window #channelDataWindow [dialogOpen]="dialog"
                (dialogClose)="closeDialog(!$event)"></app-channel-data-window>
        </div>

        <div *ngIf="channel.participants.length > 0" class="head-right">
            <div>
                <div class="profil-picture-wrapper">
                    <img *ngFor="let channel of channel.participants" src="{{channel.avatar}}" alt="">
                    <img *ngIf="channel.createdBy as currentUser" src="{{currentUser.avatar}}" alt="">
                </div>
                <span>{{channel.participants.length + 1}} </span>

                <app-channel-members-info [dialogOpen]="true"></app-channel-members-info>
            </div>

            <div class="person-add-icon">
                <div></div>
            </div>
        </div>
    </div>

    <div class="textarea-emojipicker">
        <div class="emoji-component" *ngIf="this.emojiService.emojiPickerOpen">
            <app-emoji-picker-component (emojiSelected)="this.addEmoji($event)"></app-emoji-picker-component>
        </div>
        <app-textarea [chatPartnerName]="this.chatService.chatPartner.name" [component]="'channels'"></app-textarea>
    </div>

</section>

<app-transparent-background [backgroundOpen]="dialog"
    (backgroundClose)="closeDialog(!$event)"></app-transparent-background>