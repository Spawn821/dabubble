<section *ngIf="dialogOpen && chatPartnerSig() as chatPartner" class="user-profil slide-in">

    <header class="width-100-percent">
        <h2 *ngIf="!edit; else editHeadline">Profil</h2>
        <ng-template #editHeadline>
            <h2>Dein Profil bearbeiten</h2>
        </ng-template>
        <div (click)="closeDialog()" class="close-icon"></div>
    </header>

    <div class="image-container" [ngClass]="{'margin-top': edit}">

        <!-- View profil -->
        <img class="profil-icon" [src]="chatPartner.avatar">

        <!-- Edit profil -->
        <div *ngIf="edit" class="circle-container">
            <img *ngFor="let img of images; let i = index" [src]="img" class="circle-image" [ngStyle]="edit ? getPosition(i) : null"
                (click)="selectImage(img)" />
        </div>

    </div>

    <form class="width-100-percent" onSubmit="return false">

        <!-- View profil -->
        <div *ngIf="!edit" class="view-name-mail-wrapper width-100-percent">
            <div class="name-wrapper">
                <div class="name">
                    <h2>{{chatPartner.userName}}</h2>
                    <div>
                        <div class="active-status" [ngClass]="{'online': chatPartner.active, 'offline': !chatPartner.active}"></div>
                        <span *ngIf="chatPartner.active; else abwesend" class="online-text">Aktiv</span>
                        <ng-template #abwesend>
                            <span class="offline-text">Abwesend</span>
                        </ng-template>
                    </div>
                </div>

                <button *ngIf="useAs === 'edit'" (click)="openEdit()" class="edit-button">Bearbeiten</button>
            </div>

            <div class="email-wrapper">
                <img src="/img/mail-icon.svg" alt="">
                <div class="email">
                    <span>E-Mail-Adresse</span>
                    <span>{{chatPartner.email}}</span>
                </div>
            </div>

            <button type="button" (click)="selectChat(); closeDialog()" class="primary-button">Nachricht</button>
        </div>

        <!-- Edit profil -->
        <div *ngIf="edit" class="edit-name-wrapper width-100-percent" [ngClass]="{'margin-top': edit}">

            <div class="name-input-wrapper width-100-percent">
                <div class="email-wrapper">
                    <img src="/img/person-icon.svg">
                    <h2>Vollst√§ndiger Name</h2>
                </div>
                <input class="input-text" type="text" placeholder="{{chatPartner.userName}}">
            </div>

            <div class="button-wrapper">
                <button type="button" (click)="closeEdit()" class="gast-login-btn">Abbrechen</button>
                <button type="button" class="primary-button">Speichern</button>
            </div>
        </div>

    </form>

</section>